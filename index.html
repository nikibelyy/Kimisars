<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Аварийный комиссар — визитка</title>
  <meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#f2f2f7" media="(prefers-color-scheme: light)">
  <style>
    /* ========= iOS look & feel ========= */
    :root{
      --bg-light: #f2f2f7;         /* iOS system grouped background */
      --bg-dark:  #0a0a0a;
      --card-light: rgba(255,255,255,0.7);
      --card-dark:  rgba(30,30,32,0.6);
      --stroke-light: rgba(0,0,0,0.08);
      --stroke-dark:  rgba(255,255,255,0.08);
      --text-primary-light:#000;
      --text-secondary-light:#6a6a6d;
      --text-primary-dark:#fff;
      --text-secondary-dark:#9b9ba1;
      --tint:#0a84ff; /* iOS blue */
      --success:#34c759;
      --danger:#ff3b30;
      --warning:#ff9f0a;
      --radius-xl: 22px;
      --radius-lg: 18px;
      --radius-md: 14px;
      --blur: 16px;
      --shadow-light: 0 10px 30px rgba(0,0,0,.08);
      --shadow-dark: 0 10px 30px rgba(0,0,0,.55);
      --island-h: 38px;
      --maxw: 720px;
    }
    @media (prefers-color-scheme: dark){
      :root{ color-scheme: dark; }
      body{ background: radial-gradient(1200px 800px at 50% -20%, #1a1a1a 0%, #000 60%); }
    }
    @media (prefers-color-scheme: light){
      :root{ color-scheme: light; }
      body{ background: linear-gradient(180deg, #f8fafc 0%, var(--bg-light) 100%); }
    }
    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      line-height:1.2;
      display:flex;
      justify-content:center;
      color: var(--text-primary-light);
    }
    @media (prefers-color-scheme: dark){
      body{ color: var(--text-primary-dark); }
    }

    .phone-frame{
      width:100%;
      max-width:var(--maxw);
      padding: env(safe-area-inset-top) 16px env(safe-area-inset-bottom);
    }

    /* Dynamic Island */
    .island{
      height: var(--island-h);
      width: 140px;
      margin: 6px auto 14px;
      border-radius: 999px;
      background: #000;
      position: sticky;
      top: env(safe-area-inset-top);
      z-index: 5;
      display:flex; align-items:center; justify-content:center;
      color:#fff; font-weight:600; font-size:12px; letter-spacing:.3px;
      box-shadow: 0 4px 18px rgba(0,0,0,.35) inset, 0 10px 30px rgba(0,0,0,.25);
    }

    .header{
      position:relative;
      border-radius: calc(var(--radius-xl) + 6px);
      overflow:hidden;
      padding: 28px 20px 20px;
      background:
        radial-gradient(1000px 500px at 10% -10%, rgba(255,255,255,.14), transparent 60%) ,
        radial-gradient(1000px 500px at 90% -10%, rgba(10,132,255,.18), transparent 60%);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow-light);
    }
    @media (prefers-color-scheme: dark){
      .header{ box-shadow: var(--shadow-dark); }
    }
    .avatar{
      width:84px; height:84px; border-radius:24px;
      overflow:hidden; display:block;
      border: 1px solid rgba(255,255,255,.25);
      box-shadow: 0 8px 30px rgba(0,0,0,.25);
      margin-bottom:12px;
    }
    .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

    .title{ font-size:28px; font-weight:800; letter-spacing:-.02em; margin:4px 0 6px; }
    .subtitle{ font-size:15px; opacity:.75; margin:0; }

    .badge-row{
      display:flex; gap:8px; flex-wrap:wrap; margin-top:14px;
    }
    .badge{
      font-size:12px; padding:8px 12px; border-radius:999px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border:1px solid var(--stroke-light);
      background: var(--card-light);
    }
    @media (prefers-color-scheme: dark){
      .badge{ border-color: var(--stroke-dark); background: var(--card-dark); }
    }

    .card{
      margin-top:14px;
      padding: 14px;
      border-radius: var(--radius-lg);
      background: var(--card-light);
      border: 1px solid var(--stroke-light);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow-light);
    }
    @media (prefers-color-scheme: dark){
      .card{
        background: var(--card-dark);
        border-color: var(--stroke-dark);
        box-shadow: var(--shadow-dark);
      }
    }

    .grid-actions{
      display:grid; grid-template-columns: repeat(4,1fr); gap:10px;
    }
    .action{
      text-decoration:none; color:inherit; text-align:center;
      border-radius:18px; padding:12px 8px;
      border:1px solid var(--stroke-light);
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      transition: transform .08s ease, background .2s ease;
      display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:center;
      min-height:92px;
    }
    @media (prefers-color-scheme: dark){
      .action{ background: rgba(30,30,32,.45); border-color: var(--stroke-dark); }
    }
    .action:active{ transform: scale(.98); }
    .action svg{ width:26px; height:26px; }

    .list{
      display:flex; flex-direction:column; gap:10px;
    }
    .row{
      display:flex; align-items:center; gap:12px;
      padding:12px; border-radius:16px; border:1px solid var(--stroke-light);
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    }
    @media (prefers-color-scheme: dark){
      .row{ background: rgba(30,30,32,.45); border-color: var(--stroke-dark); }
    }
    .row .label{ font-size:13px; opacity:.7; }
    .row .value{ font-weight:600; font-size:16px; }

    .footer{
      text-align:center; opacity:.55; font-size:12px; padding:16px 0 4px;
    }

    .switch{
      position:relative; width:52px; height:32px; border-radius:999px; background:#3a3a3c;
      transition: background .25s ease; flex:0 0 auto;
    }
    .switch::after{
      content:""; position:absolute; top:3px; left:3px; width:26px; height:26px; border-radius:50%;
      background:#fff; box-shadow: 0 2px 6px rgba(0,0,0,.25); transition: transform .25s ease;
    }
    .switch.on{ background: var(--tint); }
    .switch.on::after{ transform: translateX(20px); }

    .row-right{ margin-left:auto; display:flex; align-items:center; gap:10px; }

    .sos{
      background: rgba(255,59,48,.15);
      border-color: rgba(255,59,48,.35);
      color:#ffb3ad;
    }
    .sos:active{ transform: scale(.98); }

    /* Small screens tweaks */
    @media (max-width: 380px){
      .grid-actions{ grid-template-columns: repeat(3,1fr); }
    }
  </style>
</head>
<body>
  <div class="phone-frame">
    <div class="island">09:41</div>

    <header class="header card">
      <div class="avatar">
        <!-- Замените на своё фото/логотип -->
        <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=400&auto=format&fit=crop" alt="Аватар">
      </div>
      <div class="title">Алексей Иванов</div>
      <p class="subtitle">Аварийный комиссар · 24/7</p>

      <div class="badge-row">
        <span class="badge">Оформление ДТП</span>
        <span class="badge">Страховые кейсы</span>
        <span class="badge">Выезд к месту</span>
        <span class="badge">Консультация</span>
      </div>
    </header>

    <!-- Быстрые действия -->
    <section class="card">
      <div class="grid-actions">
        <a class="action" href="tel:+3726000000">
          <!-- Phone -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h3a2 2 0 0 1 2 1.72c.12.86.32 1.7.6 2.5a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.58-1.12a2 2 0 0 1 2.11-.45c.8.28 1.64.48 2.5.6A2 2 0 0 1 22 16.92Z"/>
          </svg>
          <div>Позвонить</div>
          <small>+372 600-00-00</small>
        </a>

        <a class="action" href="https://wa.me/3726000000" target="_blank" rel="noopener">
          <!-- WhatsApp -->
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 3.9A10 10 0 1 0 3.5 19.6L2 22l2.6-.7A10 10 0 0 0 12 22a10 10 0 0 0 8-18.1Zm-8 17a8.2 8.2 0 0 1-4.2-1.1l-.3-.2-2.5.7.7-2.4-.2-.3A8.3 8.3 0 1 1 12 20.9Zm4.6-6.4c-.2-.1-1.3-.6-1.5-.7s-.4-.1-.6.1c-.2.2-.7.7-.8.9s-.3.2-.6.1a6.9 6.9 0 0 1-2-1.3 7.4 7.4 0 0 1-1.3-1.9c-.1-.3 0-.4.1-.6s.3-.4.4-.6l.2-.4c.1-.2 0-.4 0-.6l-.7-1.7c-.2-.6-.4-.5-.6-.5h-.5a1 1 0 0 0-.7.3c-.2.2-.8.8-.8 2s.8 2.3 1 2.5a10.8 10.8 0 0 0 3.7 3.7c.4.2 1.9.8 3 .9 1.2.1 2.2-.4 2.5-.9s.4-1.2.3-1.3-.2-.1-.4-.2Z"/>
          </svg>
          <div>WhatsApp</div>
          <small>Написать</small>
        </a>

        <a class="action" href="https://t.me/username" target="_blank" rel="noopener">
          <!-- Telegram -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M22 2 11 13" />
            <path d="m22 2-7 20-4-9-9-4 20-7z"/>
          </svg>
          <div>Telegram</div>
          <small>@username</small>
        </a>

        <a class="action" href="sms:+3726000000?body=Нужна%20помощь%20по%20ДТП" >
          <!-- SMS -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
            <path d="M8 9h8M8 13h6"/>
          </svg>
          <div>SMS</div>
          <small>Шаблон</small>
        </a>

        <a class="action" href="#map">
          <!-- Location -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M21 10c0 5-9 12-9 12S3 15 3 10a9 9 0 1 1 18 0z"/>
            <circle cx="12" cy="10" r="3"/>
          </svg>
          <div>Местоположение</div>
          <small>Зона выезда</small>
        </a>

        <a class="action" id="addToContacts" href="#">
          <!-- Contact / vCard -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <rect x="3" y="3" width="18" height="18" rx="3"/>
            <path d="M7 7h10M7 12h10M7 17h6"/>
          </svg>
          <div>Добавить</div>
          <small>В контакты</small>
        </a>

        <a class="action" href="#" id="shareBtn">
          <!-- Share -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M4 12v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7"/>
            <path d="M16 6l-4-4-4 4"/>
            <path d="M12 2v14"/>
          </svg>
          <div>Поделиться</div>
          <small>Ссылкой</small>
        </a>

        <a class="action sos" href="tel:112">
          <!-- SOS -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <circle cx="12" cy="12" r="10"/>
            <path d="M8 12h8M12 8v8"/>
          </svg>
          <div>Экстренно</div>
          <small>112</small>
        </a>
      </div>
    </section>

    <!-- Инфо блоки -->
    <section class="card">
      <div class="list">
        <div class="row">
          <div>
            <div class="label">Опыт</div>
            <div class="value">10+ лет, 3000+ выездов</div>
          </div>
          <div class="row-right">
            <div class="badge">24/7</div>
            <div class="badge">Без выходных</div>
          </div>
        </div>

        <div class="row">
          <div>
            <div class="label">Страховые партнёры</div>
            <div class="value">IF · ERGO · Gjensidige · Compensa</div>
          </div>
        </div>

        <div class="row">
          <div>
            <div class="label">Языки</div>
            <div class="value">Русский · Eesti · English</div>
          </div>
        </div>

        <div class="row">
          <div>
            <div class="label">Уведомления о статусе</div>
            <div class="value">Включить</div>
          </div>
          <div class="row-right">
            <div class="switch" id="notifySwitch" aria-label="toggle"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Карта/зона обслуживания (плейсхолдер) -->
    <section id="map" class="card">
      <div class="list">
        <div class="row">
          <div>
            <div class="label">Зона обслуживания</div>
            <div class="value">Таллинн и 100 км вокруг</div>
          </div>
          <div class="row-right">
            <a class="badge" href="https://maps.apple.com/?q=Tallinn" target="_blank" rel="noopener">Открыть в Картах</a>
          </div>
        </div>
        <div class="row" style="padding:0; overflow:hidden;">
          <img alt="Карта зоны выезда" src="https://maps.googleapis.com/maps/api/staticmap?center=Tallinn&zoom=9&size=1200x600&scale=2&maptype=roadmap&markers=color:red%7CTallinn"
               style="display:block; width:100%; height:auto; aspect-ratio:2/1; object-fit:cover;">
        </div>
      </div>
    </section>

    <div class="footer">
      © <span id="year"></span> Аварийный комиссар · Сайт-визитка iOS-стиля
    </div>
  </div>

  <script>
    // ===== Текущий год =====
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== iOS-подобный переключатель =====
    const sw = document.getElementById('notifySwitch');
    sw.addEventListener('click', () => {
      sw.classList.toggle('on');
      if (sw.classList.contains('on')) {
        // Ненавязчивый вибро-отклик (если поддерживается)
        if (navigator.vibrate) navigator.vibrate(10);
      }
    });

    // ===== Визитка (vCard) через data: URI =====
    // TODO: замените ДАННЫЕ НИЖЕ на свои
    const vcard = [
      "BEGIN:VCARD",
      "VERSION:3.0",
      "N:Иванов;Алексей;;;",
      "FN:Алексей Иванов",
      "ORG:Аварийный комиссар",
      "TITLE:Аварийный комиссар",
      "TEL;TYPE=CELL,VOICE:+3726000000",
      "EMAIL;TYPE=INTERNET,WORK:help@example.com",
      "URL:https://example.com",
      "ADR;TYPE=WORK:;;Narva mnt 1;Tallinn;;10117;Estonia",
      "NOTE:Круглосуточный выезд. Оформление ДТП, фотофиксация, консультация.",
      "END:VCARD"
    ].join("\\n");
    const vcardUrl = "data:text/vcard;charset=utf-8," + encodeURIComponent(vcard);
    document.getElementById('addToContacts').setAttribute('href', vcardUrl);
    document.getElementById('addToContacts').setAttribute('download', 'Alexey_Ivanov.vcf');

    // ===== Поделиться (Web Share API) =====
    const shareBtn = document.getElementById('shareBtn');
    shareBtn.addEventListener('click', async (e) => {
      e.preventDefault();
      const data = {
        title: "Аварийный комиссар — Алексей Иванов",
        text: "Оформление ДТП · Выезд 24/7 · Тел: +372 600 00 00",
        url: location.href
      };
      if (navigator.share) {
        try { await navigator.share(data); } 
        catch(e){ /* отменили */ }
      } else {
        // Фолбэк: копируем URL
        try{
          await navigator.clipboard.writeText(location.href);
          shareBtn.querySelector('small').textContent = "Скопировано";
          setTimeout(()=>shareBtn.querySelector('small').textContent = "Ссылкой", 2000);
        }catch(e){}
      }
    });
  </script>
</body>
</html>
